This does not work on a multiprocessor, however. Some systems, such as the Intel x86, have hardware support for fetching the ID of the current processor. In these systems, the thread library can maintain a global array of pointers, with the i&#8217;th entry pointing to the TCB of the thread running on the i&#8217;th processor. A running thread can then find its TCB by looking up its processor ID and then finding the corresponding entry in the array 
<P></P>
<P>x86 &#20307;&#31995;&#35299;&#20915;&#22312;&#22810;&#22788;&#29702;&#22120;&#22330;&#26223;&#19979;&#65292;&#32447;&#31243;&#33719;&#21462;&#33258;&#36523; TCB &#38590;&#39064;&#30340;&#26041;&#27861;&#26159;&#65306;&#35753;&#32447;&#31243;&#24211;&#32500;&#25252;&#19968;&#20010;&#20840;&#23616;&#24615;&#30340; TCB&nbsp;&#25968;&#32452;&#65292;&#25968;&#32452;&#20013;&#31532; i &#20010;&#20803;&#32032;&#23601;&#26159;&#24403;&#21069;&#35745;&#31639;&#26426;&#19978;&#31532; i &#20010;&#22788;&#29702;&#22120;&#19978;&#27491;&#22312;&#36816;&#34892;&#30340;&#32447;&#31243;&#30340; TCB&#65292;&#22914;&#26159;&#21482;&#35201;&#27599;&#20010;&#32447;&#31243;&#21033;&#29992;&#33258;&#24049;&#24403;&#21069;&#25152;&#22312;&#22788;&#29702;&#22120;&#32534;&#21495;&#65292;&#22312;&#35813;&#25968;&#32452;&#20013;&#36827;&#34892;&#23547;&#22336;&#23601;&#33021;&#33719;&#21462;&#21040;&#33258;&#24049;&#30340; TCB &#20102;</P>
<P><SPAN class=extract>x86 &#20307;&#31995;&#22914;&#20309;&#35299;&#20915;&#32447;&#31243;&#33719;&#21462;&#33258;&#36523; TCB &#30340;&#38382;&#39064;&#65311;&#22312;&#20840;&#23616; TCB &#25968;&#32452;&#20013;&#65292;&#20351;&#29992;&#24403;&#21069;&#22788;&#29702;&#22120; ID &#20316;&#20026; index &#36827;&#34892;&#23547;&#22336;</SPAN>