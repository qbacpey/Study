<H1 id=firstHeading class="firstHeading mw-first-heading"><SPAN class=headers>Title:</SPAN></B><SPAN class=RefText> <SPAN class=headers>Title:</SPAN></B><SPAN class=RefText> fork (system call)</SPAN></FONT></SPAN></FONT></H1>
<DIV id=bodyContent class=vector-body>
<DIV lang=en id=mw-content-text class="mw-body-content mw-content-ltr" dir=ltr>
<DIV class=mw-parser-output>
<P>In<SPAN>&nbsp;</SPAN><A title=Computing href="https://en.wikipedia.org/wiki/Computing">computing</A>, particularly in the context of the<SPAN>&nbsp;</SPAN><A title=Unix href="https://en.wikipedia.org/wiki/Unix">Unix</A><SPAN>&nbsp;</SPAN>operating system and its<SPAN>&nbsp;</SPAN><A title=Unix-like href="https://en.wikipedia.org/wiki/Unix-like">workalikes</A>,<SPAN>&nbsp;</SPAN><B>fork</B><SPAN>&nbsp;</SPAN>is an operation whereby a<SPAN>&nbsp;</SPAN><A title="Computer process" class=mw-redirect href="https://en.wikipedia.org/wiki/Computer_process">process</A><SPAN>&nbsp;</SPAN>creates a copy of itself. It is an interface which is required for compliance with the<SPAN>&nbsp;</SPAN><A title=POSIX href="https://en.wikipedia.org/wiki/POSIX">POSIX</A><SPAN>&nbsp;</SPAN>and<SPAN>&nbsp;</SPAN><A title="Single UNIX Specification" href="https://en.wikipedia.org/wiki/Single_UNIX_Specification">Single UNIX Specification</A><SPAN>&nbsp;</SPAN>standards. It is usually implemented as a<SPAN>&nbsp;</SPAN><A title="C standard library" href="https://en.wikipedia.org/wiki/C_standard_library">C Standard Library</A><SPAN>&nbsp;</SPAN>(libc)<SPAN>&nbsp;</SPAN><A title="Wrapper library" href="https://en.wikipedia.org/wiki/Wrapper_library">wrapper</A><SPAN>&nbsp;</SPAN>to the fork, clone, or other<SPAN>&nbsp;</SPAN><A title="System call" href="https://en.wikipedia.org/wiki/System_call">system calls</A><SPAN>&nbsp;</SPAN>of the<SPAN>&nbsp;</SPAN><A title="Kernel (operating system)" href="https://en.wikipedia.org/wiki/Kernel_(operating_system)">kernel</A>. <SPAN class=extract>Fork is the primary method of process creation on Unix-like operating systems</SPAN>.</P>
<P>In multitasking operating systems, processes (running programs) need a way to create new processes, e.g. to run other programs. Fork and its variants are typically the only way of doing so in Unix-like systems. <SPAN class=extract>For a process to start the execution of a different program, it first forks to create a copy of itself. Then, the copy, called the "<A title="Child process" href="https://en.wikipedia.org/wiki/Child_process">child process</A>", calls the<SPAN>&nbsp;</SPAN><A title="Exec (system call)" href="https://en.wikipedia.org/wiki/Exec_(system_call)">exec</A><SPAN>&nbsp;</SPAN>system call to overlay itself with the other program: it ceases execution of its former program in favor of the other</SPAN>.</P>
<P><SPAN class=extract>The fork operation creates a separate<SPAN>&nbsp;</SPAN><A title="Address space" href="https://en.wikipedia.org/wiki/Address_space">address space</A><SPAN>&nbsp;</SPAN>for the child. The child process has an exact copy of all the memory segments of the parent process</SPAN>. In modern UNIX variants that follow the<SPAN>&nbsp;</SPAN><A title="Virtual memory" href="https://en.wikipedia.org/wiki/Virtual_memory">virtual memory</A><SPAN>&nbsp;</SPAN>model from SunOS-4.0,<SPAN>&nbsp;</SPAN><SPAN class=extract><A title=Copy-on-write href="https://en.wikipedia.org/wiki/Copy-on-write">copy-on-write</A><SPAN>&nbsp;</SPAN>semantics are implemented and the physical memory need not be actually copied. Instead,<SPAN>&nbsp;</SPAN><A title="Virtual memory pages" class=mw-redirect href="https://en.wikipedia.org/wiki/Virtual_memory_pages">virtual memory pages</A><SPAN>&nbsp;</SPAN>in both processes may refer to the same pages of<SPAN>&nbsp;</SPAN><A title="Physical memory" class=mw-redirect href="https://en.wikipedia.org/wiki/Physical_memory">physical memory</A><SPAN>&nbsp;</SPAN>until one of them writes to such a page: then it is copied</SPAN>. This optimization is important in the common case where fork is used in conjunction with exec to execute a new program: typically, the child process performs only a small set of actions before it ceases execution of its program in favour of the program to be started, and it requires very few, if any, of its parent's<SPAN>&nbsp;</SPAN><A title="Data structure" href="https://en.wikipedia.org/wiki/Data_structure">data structures</A>.</P>
<P>When a process calls fork, it is deemed the<SPAN>&nbsp;</SPAN><A title="Parent process" href="https://en.wikipedia.org/wiki/Parent_process">parent process</A><SPAN>&nbsp;</SPAN>and the newly created process is its child. After the fork, both processes not only run the same program, but they resume execution as though both had called the system call. <SPAN class=extract>They can then inspect the call's<SPAN>&nbsp;</SPAN><A title="Return value" class=mw-redirect href="https://en.wikipedia.org/wiki/Return_value">return value</A><SPAN>&nbsp;</SPAN>to determine their status, child or parent, and act accordingly</SPAN>.