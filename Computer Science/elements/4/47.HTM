In most operating systems, a process has two stacks: one for executing user code and one for kernel code. The Figure shows the kernel and user stacks for various states of a process. When a process is running in user mode, its kernel stack is empty. When a process has been preempted (ready but not running), its kernel stack will contain the user-level processor state at the point when the user process was interrupted. When a process is inside a system call waiting for I/O, the kernel stack contains the context to be resumed when the I/O completes, and the user stack contains the context to be resumed when the system call returns.</P>
<P>&#23545;&#20110;&#22823;&#22810;&#25968;&#30340;&#25805;&#20316;&#31995;&#32479;&#26469;&#35828;&#65292;&#19968;&#20010;&#36827;&#31243;&#25317;&#26377;&#20004;&#20010;&#26632;&#65306;&#29992;&#25143;&#20195;&#30721;&#26632;&#21644;&#36827;&#31243;&#20195;&#30721;&#26632;&#65288;&#20013;&#26029;&#26632;&#65289;</P>
<P>&#24403;&#36827;&#31243;&#22312;&#29992;&#25143;&#24577;&#36816;&#34892;&#26102;&#65292;&#20869;&#26680;&#26632;&#26159;&#31354;&#30340;</P>
<P>&#24403;&#36827;&#31243;&#31561;&#24453;CPU&#26102;&#38388;&#26102;&#65292;&#20013;&#26029;&#26632;&#20250;&#21253;&#21547;&#36827;&#31243;&#34987;&#20013;&#26029;&#26102;&#30340;&#29366;&#24577;&#20449;&#24687;</P>
<P>&#24403;&#36827;&#31243;&#22312;&#25191;&#34892;&#31995;&#32479;&#35843;&#29992;&#20013;&#26029;&#22788;&#29702;&#31243;&#24207;&#26102;&#65288;&#25110;&#32773;&#35828;&#31561;&#24453;I/O&#65289;&#20869;&#26680;&#26632;&#20250;&#21253;&#21547;I/O&#33258;&#34892;&#23436;&#25104;&#20043;&#21518;&#30340;&#19978;&#19979;&#25991;&#12289;&#29992;&#25143;&#26632;&#20250;&#21253;&#21547;&#31995;&#32479;&#35843;&#29992;&#36820;&#22238;&#20043;&#21518;&#30340;&#19978;&#19979;&#25991;