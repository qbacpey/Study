<STRONG><FONT color=blue>: </FONT></STRONG>
<H3 id=what-is-vlan-encapsulation><SPAN class=headers>Title:</SPAN></B><SPAN class=RefText> What is VLAN encapsulation?</SPAN></FONT></H3><SPAN class=extract>
<P>When a switch port is configured to function as a trunk port, it adds unique identification tags &#8211; either 802.1Q tags or Inter-Switch Link (ISL) tags to the frames as they move between switches.</P>
<P></SPAN><STRONG>IEEE<A href="https://en.wikipedia.org/wiki/IEEE_802.1Q">802.1Q</A>, often referred to as DOT1Q or 1Q, is the networking standard that supports virtual LANs (VLANs) on an IEEE 802.3 Ethernet network. It is the most widely used encapsulation method for VLAN tagging.</STRONG></P>
<P><EM><SPAN class=extract><EM>Note:<SPAN>&nbsp;</SPAN><A href="https://en.wikipedia.org/wiki/IEEE_802.3">IEEE 802.3</A><SPAN>&nbsp;</SPAN>is a standard that specifies the characteristics of physical layer and Media Access Control(MAC) layer for wired Ethernet connections, generally called LANs. It is also referred to as the Ethernet standard</EM></SPAN>.</EM></P>
<P><img style="HEIGHT: 145px; WIDTH: 447px" alt=dot1q-frame-format src="https://www.section.io/engineering-education/vlan-trunking/dot1q.jpg" width=591 height=193></P>
<P>The dot1Q frame standard accommodates a VLAN tag in the original Ethernet frame. This VLAN tag is 4 bytes long and consists of the fields discussed below:</P>
<OL>
<LI><STRONG>Tag Protocol ID(TPID)</STRONG>: This field is used to identify the frame as IEEE 802.1q frame. The value is set to 0x8100. 
<LI><STRONG>Priority(PRI)</STRONG>: This field indicates frame priority level. Also called Priority Code Point(PCP). See<SPAN>&nbsp;</SPAN><A href="https://en.wikipedia.org/wiki/IEEE_P802.1p#Priority_levels">this</A><SPAN>&nbsp;</SPAN>link for priority levels. 
<LI><STRONG>Canonical Format Indicator(CFI)</STRONG>: Now known as Drop Eligibility Indicator(DEI), this field along with PCP is used to indicate frames that can be dropped during congestion. 
<LI><STRONG>VLAN ID</STRONG>: This ID is unique for each VLAN and helps in identifying which VLAN the current frame belongs to. This field is 12 bits long. Hence, 1dotQ supports 2^12 i.e. 4096 unique VLANs on a single Ethernet network.</LI></OL>
<P><EM>As 802.1q encapsulation inserts an additional field into the Ethernet frame, Frame Check Sequence(FCS) is recalculated.</EM><SPAN>&nbsp;</SPAN><EM>All switches support 802.1q encapsulation.</EM></P>
<P><EM>VLAN implementations have shown an increase in the performance, scalability and security of the entire network.</EM><SPAN>&nbsp;</SPAN>There are several reasons for using VLANs in networks, but the most prominent one is<SPAN>&nbsp;</SPAN><STRONG>traffic management</STRONG>. As long as a Local Area Network branches out and proliferates with more and more end devices and network devices, the frequency of broadcast increases accordingly. The chances of the network getting heavily congested with data increases simultaneously. As stated before, VLANs separate network segments and limit broadcast traffic. <SPAN class=extract>In order for two subnets separated by VLANs to communicate, a Layer 3 device is required. Even if two ports of a device belonging to different VLANs wish to communicate, they need to be mediated by a Layer 3 routing device.</SPAN> Their traffic will essentially be segregated too. VLANs must, therefore, be used strategically in networks to avoid looping, overload and redundant usage of Layer 3 network devices.