<STRONG>hook-stop</STRONG> GDB invokes this macro every time the simulation stops, which Bochs will do for every processor exception, among other reasons. If the simulation stops due to a page fault, hook-stop will print a message that says and explains further whether the page fault occurred in the kernel or in user code. 
<P></P>
<P>&#27599;&#24403;&#27169;&#25311;&#22120;&#26242;&#20572;&#30340;&#26102;&#20505; GDB &#37117;&#20250;&#35843;&#29992;&#36825;&#20010;&#23439;&#65292;&#22914;&#26524;&#27169;&#25311;&#22120;&#26159;&#22240;&#20026; page fault &#26242;&#20572;&#30340;&#65292;&#37027;&#20040; hook-stop &#23601;&#20250;&#25171;&#21360;&#19968;&#26465;&#28040;&#24687;&#35299;&#37322; page fault &#21457;&#29983;&#30340;&#21407;&#22240;</P>
<P>If the exception occurred from user code, hook-stop will say:</P>
<P>&#22914;&#26524; page fault &#21457;&#29983;&#22312;&#29992;&#25143;&#20195;&#30721;&#20013;&#65292;&#37027;&#20040;&#36825;&#20010;&#23439;&#23601;&#20250;&#25171;&#21360;&#22914;&#19979;&#20449;&#24687;<BR><BR><FONT size=3 face="Ubuntu Mono">pintos-debug: a page fault exception occurred in user mode <BR>pintos-debug: hit 'c' to continue, or 's' to step to intr_handler</FONT></P><SPAN class=extract>
<P>In Project Userprog, a page fault in a user process leads to the termination of the process. You should expect those page faults to occur in the robustness tests where we test that your kernel properly termi- nates processes that try to access invalid addresses. To debug those, set a breakpoint in page_fault in exception.c, which you will need to modify accordingly.</P>
<P>&#22914;&#26524;&#24819;&#35201;&#35843;&#35797; page fault &#21487;&#20197;&#22312; exception.c &#30340; page_fault &#20989;&#25968;&#20013;&#35774;&#32622;&#26029;&#28857;</P></SPAN>
<P>If the page fault did not occur in user mode while executing a user process, then it occurred in kernel mode while executing kernel code. In this case, hook-stop will print this message:</P>
<P><FONT size=3 face="Ubuntu Mono">pintos-debug: a page fault occurred in kernel mode</FONT></P>
<P>Followed by the output of the btpagefault command. </P>
<P>&#22914;&#26524; page fault &#27809;&#26377;&#21457;&#29983;&#22312;&#29992;&#25143;&#27169;&#24335;&#19979;&#65292;&#37027;&#20040; hook-stop &#23601;&#20250;&#25171;&#21360;&#36825;&#26465;&#20449;&#24687;&#24182;&#32039;&#38543;&#30528; btpagefault &#30340;&#36755;&#20986;