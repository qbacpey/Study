<SPAN class=headers>Title:</SPAN></B><SPAN class=RefText> B.5 Switching Threads</SPAN></FONT> 
<P></P><SPAN class=extract>
<P>It is sometimes useful while debugging to switch between threads. You&#8217;ll need to use the Bochs emulator for this to work (see Debugging Page Faults for instructions on how to do this). </P>
<P>&#22914;&#26524;&#24819;&#35201;&#22312;&#35843;&#35797;&#36807;&#31243;&#20013;&#25191;&#34892;&#32447;&#31243;&#20999;&#25442;&#65292;&#23601;&#38656;&#35201;&#20351;&#29992; Bochs &#36825;&#20010;&#27169;&#25311;&#22120;&#26469;&#23454;&#29616;&#36825;&#19968;&#28857;</P></SPAN><SPAN class=extract>
<P>To observe the context switch, do the following in a fresh (i.e. with no existing breakpoints set) GDB session. Lines below starting with &#8220;#&#8221; are comments.</P>
<P>&#22914;&#26524;&#24819;&#35201;&#35266;&#23519;&#19978;&#19979;&#25991;&#20999;&#25442;&#30340;&#36807;&#31243;&#65292;&#38656;&#35201;&#22312;&#27809;&#26377;&#35774;&#32622;&#26029;&#28857;&#30340;&#24773;&#20917;&#19979;&#25191;&#34892;&#22914;&#19979; GDB &#21629;&#20196;<BR><BR>debugpintos <BR>break process.c:process_exit <BR>continue <BR># &#22312; GDB &#20013;&#35843;&#29992; thread_current &#20989;&#25968;&#65292;&#26597;&#30475;&#24403;&#21069;&#32447;&#31243; ID<BR>call thread_current()-&gt;tid <BR># Sets a breakpoint immediately after the call to sema_down in process_wait break 95 <BR>continue <BR># You should see a different thread id than before <BR>call thread_current()-&gt;tid <BR># &#23637;&#31034;&#24403;&#21069;&#23384;&#22312;&#20110; Pintos &#20013;&#30340;&#20854;&#20182;&#32447;&#31243; <BR>dumplist &amp;all_list thread allelem</P>
<P></SPAN>