The mechanics of a context switch are in threads/switch.S, which is x86 assembly code. It saves the state of the currently running thread and restores the state of the next thread onto the CPU.</P>
<P>&#23454;&#29616;&#32447;&#31243;&#20999;&#25442;&#30340;&#20195;&#30721;&#20301;&#20110; threads/switch.S &#20013;&#65292;&#23427;&#30340;&#24037;&#20316;&#26159;&#20445;&#23384;&#32447;&#31243;&#29366;&#24577;&#24182;&#23558;&#26032;&#32447;&#31243;&#21152;&#36733;&#21040; CPU &#20013;