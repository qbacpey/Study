Using GDB, try tracing through a context switch to see what happens. You can set a breakpoint on schedule() to start out, and then single-step from there (use &#8220;step&#8221; instead of &#8220;next&#8221;). Be sure to keep track of each thread&#8217;s address and state, and what procedures are on the call stack for each thread (try &#8220;backtrace&#8221;). You will notice that when one thread calls switch_threads(), another thread starts running, and the &#64257;rst thing the new thread does is to return from switch_threads(). You will understand the thread system once you understand why and how the switch_threads() that gets called is di&#64256;erent from the switch_threads() that returns.</P>
<P>&#22914;&#26524;&#24819;&#35201;&#35843;&#35797;&#32447;&#31243;&#19978;&#19979;&#25991;&#20999;&#25442;&#30340;&#36807;&#31243;&#65292;&#21487;&#20197;&#22312; schedule() &#20013;&#35774;&#32622;&#26029;&#28857;&#24182;&#19981;&#20165;&#65292;&#25351;&#30340;&#27880;&#24847;&#30340;&#26159;&#65292;&#24403;&#26576;&#20010;&#32447;&#31243;&#35843;&#29992;&#20102; switch_threads() &#20043;&#21518;&#65292;&#21478;&#19968;&#20010;&#32447;&#31243;&#23601;&#20250;&#24320;&#22987;&#36816;&#34892;&#65292;&#26032;&#32447;&#31243;&#25152;&#20570;&#30340;&#31532;&#19968;&#20214;&#20107;&#26159;&#20174; switch_threads() &#20013;&#36820;&#22238;