<SPAN class=headers>Title:</SPAN></B><SPAN class=RefText> D.1 Overview</SPAN> 
<P></P>
<P><SPAN class=RefText></SPAN></FONT>Every process is associated with a process control block (PCB), containing all the information needed to manange the process at runtime. In Pintos (as in most operating systems with multithreaded user processes), each thread within a process also owns a data structure known as a Thread Control Block (TCB), which contains relevant to that thread in particular, including its name, priority, and stack pointer; any information which is relevant to all processes in the thread (e.g. the page directory or name of the process) is instead contained in the PCB. <SPAN class=extract></P>
<P>Finally, note that the kernel associates with each user thread exactly one kernel thread to manage privileged operations relevant to the thread.</P>
<P>&#20869;&#26680;&#20250;&#35753;&#27599;&#19968;&#20010;&#29992;&#25143;&#32447;&#31243;&#37117;&#21644;&#19968;&#20010;&#20869;&#26680;&#32447;&#31243;&#30456;&#23545;&#24212;&#65292;&#30001;&#27492;&#26469;&#32500;&#25252;&#32447;&#31243;&#30340;&#20248;&#20808;&#32423;</P></SPAN><SPAN class=extract>
<P>In Pintos, the TCB of a thread is stored within the same page as the thread&#8217;s stack, at the bottom of the page. </P>
<P>&#32447;&#31243;&#30340; TCB &#21644;&#23427;&#30340;&#26632;&#20445;&#23384;&#22312;&#21516;&#19968;&#20010;&#20869;&#23384;&#39029;&#20013;</P></SPAN><SPAN class=extract>
<P>This is possible because each thread has its own stack; since there is no stack owned exclusively by the process (and not by any of its child threads), the PCB instead must be stored in the process&#8217; heap via malloc, where all of its child threads can access it via pointer.</P>
<P>&#32771;&#34385;&#21040;&#36827;&#31243;&#24182;&#27809;&#26377;&#26174;&#24335;&#23646;&#20110;&#23427;&#30340;&#36827;&#31243;&#26632;&#65288;&#23613;&#31649;&#23427;&#30340;&#23376;&#32447;&#31243;&#26377;&#23646;&#20110;&#23427;&#20204;&#30340;&#32447;&#31243;&#26632;&#65289;&#22240;&#27492;&#36827;&#31243;&#30340; PCB &#20250;&#34987;&#20445;&#23384;&#22312;&#36827;&#31243;&#30340;&#22534;&#20013;&#65288;&#36890;&#36807; malloc &#36827;&#34892;&#20869;&#23384;&#31354;&#38388;&#30340;&#20998;&#37197;&#65289;&#22914;&#26524;&#32447;&#31243;&#24819;&#35201;&#35775;&#38382;&#36827;&#31243;&#30340; PCB&#65292;&#21487;&#20197;&#36890;&#36807;&#25351;&#38024;&#23454;&#29616;&#36825;&#19968;&#28857;</P></SPAN><SPAN class=extract>
<P>A barebones de&#64257;nition of the PCB can be found in the &#64257;le userprog/process.c. You will likely &#64257;nd it necessary to extend this de&#64257;nition in the course of completing the projects.</P>
<P>&#20851;&#20110; PCB &#30340;&#22522;&#26412;&#23450;&#20041;&#20301;&#20110; userprog/process.c &#25991;&#20214;&#20013;</P>
<P></SPAN>