Fortunately, there is a simple fix: a thread never deletes its own state. Instead, some other thread must do it. On exit, the thread transitions to the FINISHED&nbsp;state, moves its TCB from the ready list to a list of <EM>finished</EM> threads the scheduler should never run. The thread can then safely switch to the next thread on the ready list. Once the finished thread is no longer running, it is safe for some <EM>other</EM> thread to free the state of the thread. </P>
<P>&#26080;&#35770;&#22914;&#20309;&#65292;&#23454;&#36341;&#20013;&#19968;&#20010;&#32447;&#31243;&#24517;&#23450;&#19981;&#21487;&#33021;&#20146;&#25163;&#21024;&#38500;&#33258;&#24049;&#30340;&#29366;&#24577;&#65292;&#32780;&#24517;&#39035;&#30001;&#20854;&#20182;&#32447;&#31243;&#26469;&#23436;&#25104;&#36825;&#19968;&#20214;&#20107;&#12290;&#25191;&#34892; thread_exit &#26102;&#65292;&#32447;&#31243;&#20250;&#36716;&#20026; FINISHED &#29366;&#24577;&#65292;&#20854; TCB &#20250;&#34987;&#31227;&#21160;&#21040;&#23436;&#25104;&#21015;&#34920;&#20013;&#65288;finished list&#65289;&#20013;&#12290;&#35843;&#24230;&#22120;&#27704;&#36828;&#19981;&#20250;&#25191;&#34892;&#20301;&#20110;&#23436;&#25104;&#21015;&#34920;&#20013;&#30340;&#32447;&#31243;&#65292;&#19968;&#26086;&#32447;&#31243;&#34987;&#31227;&#21160;&#21040;&#23436;&#25104;&#21015;&#34920;&#65292;&#37027;&#20040;&#30001;&#20854;&#20182;&#32447;&#31243;&#26469;&#37322;&#25918;&#27492;&#36827;&#31243;&#30340;&#29366;&#24577;&#23601;&#26159;&#19968;&#20214;&#38750;&#24120;&#23433;&#20840;&#30340;&#20107;&#24773;