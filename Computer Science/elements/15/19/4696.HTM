<H1 id=user-mode-and-kernel-mode><FONT size=6><SPAN class=headers>Title:</SPAN></B><SPAN class=RefText> User mode and kernel mode</SPAN></FONT></H1></NAV>
<P>A processor in a computer running Windows has two different modes:<SPAN>&nbsp;</SPAN><EM>user mode</EM><SPAN>&nbsp;</SPAN>and<SPAN>&nbsp;</SPAN><EM>kernel mode</EM>.</P>
<P>The processor switches between the two modes depending on what type of code is running on the processor. <SPAN class=extract>Applications run in user mode, and core operating system components run in kernel mode.</SPAN> <SPAN class=extract>While many drivers run in kernel mode, some drivers may run in user mode.</SPAN><A class="anchor-link docon docon-link" aria-labelledby=user-mode href="https://docs.microsoft.com/en-us/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode#user-mode"></A></P>
<P>User mode</P>
<P><SPAN class=extract>When you start a user-mode application, Windows creates a<SPAN>&nbsp;</SPAN><EM>process</EM><SPAN>&nbsp;</SPAN>for the application.</SPAN> <SPAN class=extract>The process provides the application with a private<SPAN>&nbsp;</SPAN><A href="https://docs.microsoft.com/en-us/windows-hardware/drivers/gettingstarted/virtual-address-spaces" data-linktype="relative-path"><EM>virtual address space</EM></A><SPAN>&nbsp;</SPAN>and a private<SPAN>&nbsp;</SPAN><EM>handle table</EM>. </SPAN><SPAN class=extract>Because an application's virtual address space is private, one application cannot alter data that belongs to another application. </SPAN>Each application runs in isolation, and if an application crashes, the crash is limited to that one application. Other applications and the operating system are not affected by the crash.</P>
<P>In addition to being private, the virtual address space of a user-mode application is limited. A processor running in user mode cannot access virtual addresses that are reserved for the operating system. Limiting the virtual address space of a user-mode application prevents the application from altering, and possibly damaging, critical operating system data.</P>
<H2 id=kernel-mode class=heading-anchor><A class="anchor-link docon docon-link" aria-labelledby=kernel-mode href="https://docs.microsoft.com/en-us/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode#kernel-mode"></A>Kernel mode</H2>
<P><SPAN class=extract>All code that runs in kernel mode shares a single<SPAN>&nbsp;</SPAN><A href="https://docs.microsoft.com/en-us/windows-hardware/drivers/gettingstarted/virtual-address-spaces" data-linktype="relative-path">virtual address space</A>. This means that a kernel-mode driver is not isolated from other drivers and the operating system itself. If a kernel-mode driver accidentally writes to the wrong virtual address, data that belongs to the operating system or another driver could be compromised. If a kernel-mode driver crashes, the entire operating system crashes.</SPAN></P>
<P>This diagram illustrates communication between user-mode and kernel-mode components.</P>
<P><img alt="block diagram of user-mode and kernel-mode components." src="https://docs.microsoft.com/en-us/windows-hardware/drivers/gettingstarted/images/userandkernelmode01.png" data-linktype="relative-path">