<EM><SPAN class=extract><EM><A data-ixbpernmnjoud4qz9ktzkg='{"name": "OEBPS/Text/part0000.xhtml", "frag": "glo:UNIX fork"}'>UNIX fork</A><A data-ixbpernmnjoud4qz9ktzkg='{"name": "OEBPS/Text/part0000.xhtml", "frag": "glo:UNIX fork"}'></EM> creates a complete copy of the parent process, with one key exception</SPAN></A></EM>. (We need some way to distinguish between which copy is the parent and which is the child.) <SPAN class=extract>The child process sets up privileges, priorities, and I/O for the program that is about to be started</SPAN>, e.g., by closing some files, opening others, reducing its priority if it is to run in the background, etc. <SPAN class=extract>Because the child runs exactly the same code as the parent, it can be trusted to set up the context for the new program correctly</SPAN>. 
<P></P>
<P><SPAN class=extract>Once the context is set, the child process calls <EM><A data-ixbpernmnjoud4qz9ktzkg='{"name": "OEBPS/Text/part0000.xhtml", "frag": "glo:UNIX exec"}'>UNIX exec</A></EM>. UNIX exec brings the new executable image into memory and starts it running</SPAN>. <SPAN class=extract>It may seem wasteful to make a complete copy of the parent process, just to overwrite that copy when we bring in the new executable image into memory using exec. It turns out that fork and exec can be implemented efficiently, using a set of techniques we will describe in Chapter&nbsp;8</SPAN>. </P>
<P><SPAN class=extract>With this design, UNIX fork takes no arguments and returns an integer</SPAN>. <SPAN class=extract>UNIX exec takes two arguments (the name of the program to run and an array of arguments to pass to the program)</SPAN>. This is in place of the ten parameters needed for CreateProcess. In part because of the simplicity of UNIX fork and exec, this interface has remained nearly unchanged since UNIX was designed in the early 70&#8217;s. (<SPAN class=extract>Although the interface has not changed, the word fork is now a bit ambiguous. It is used for creating a new copy of a UNIX process, and in thread systems for creating a new thread. To disambiguate, we will always use the term &#8220;UNIX fork&#8221; to refer to UNIX&#8217;s copy process system call</SPAN>.)