<P width=0><SPAN class=sidebar_name><B><I><SPAN class=headers>Title:</SPAN></B><SPAN class=RefText> 4.6.3 Thread Context Switch : A zero-thread kernel</SPAN></FONT></I></B></SPAN></P>
<P>Not only can we have a single-threaded kernel or a multi-threaded kernel, it is actually possible to have a kernel with no threads of its own &#8212; a zero-threaded kernel! In fact, this used to be quite common&nbsp;[<A data-9uzdtcnnj6xqoalwmdp3qa='{"name": "OEBPS/Text/part0000.xhtml", "frag": "XLions:1996:LCU"}'>107</A>]. </P>
<P><SPAN class=extract>&#38646;&#32447;&#31243;&#20869;&#26680;&#25351;&#30340;&#26159;&#25972;&#20010;&#20869;&#26680;&#25152;&#25191;&#34892;&#30340;&#25152;&#26377;&#20195;&#30721;&#37117;&#26159;&#20013;&#26029;&#22788;&#29702;&#31243;&#24207;&#30340;&#20195;&#30721;</SPAN></P>
<P>Consider the simple picture of the operating system described in Chapter&nbsp;2. Once the system has booted, initialized its device drivers, and started some user-level processes like a login shell, everything else the kernel does is event-driven, i.e., done in response to an interrupt, processor exception, or system call. </P>
<P>In a simple operating system like this, there is no need for a &#8220;kernel thread&#8221; or &#8220;kernel thread control block&#8221; to keep track of an ongoing computation. Instead, when an interrupt, trap, or exception occurs, the stack pointer gets set to the base of the interrupt stack, and the instruction pointer gets set to the address of the handler. Then, the handler executes and either returns immediately to the interrupted user-level process or suspends the user-level process and &#8220;returns&#8221; to some other user-level process. In either case, the next event (interrupt, processor exception, or system call) starts this process anew.</P>
<P>&#36825;&#31181;&#23454;&#38469;&#19978;&#25551;&#36848;&#30340;&#26159;&#20869;&#26680;&#26159;&#20107;&#20214;&#39537;&#21160;&#30340;&#65292;&#38500;&#20102;&#20013;&#26029;&#22788;&#29702;&#31243;&#24207;&#30340;&#20195;&#30721;&#19981;&#20250;&#25191;&#34892;&#20219;&#20309;&#20854;&#20182;&#30340;&#32447;&#31243;&#65292;&#27605;&#31455;&#20869;&#26680;&#25152;&#26377;&#30340;&#20195;&#30721;&#37117;&#26159;&#20013;&#26029;&#22788;&#29702;&#31243;&#24207;&#65292;&#33258;&#28982;&#23601;&#27809;&#26377;&#36861;&#36394;&#20869;&#26680;&#32447;&#31243;&#30340;&#24517;&#35201;&#20102;&#65292;&#23558;&#25152;&#26377;&#29366;&#24577;&#20445;&#23384;&#21040;&#20013;&#26029;&#26632;&#37324;&#36793;&#23601;&#36275;&#22815;&#20102;